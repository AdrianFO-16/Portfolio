<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!-- Google Fonts  -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Raleway&display=swap" rel="stylesheet">

    <!-- Google Icons  -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
    <style>
        .material-symbols-outlined {
          font-variation-settings:
          'FILL' 1,
          'wght' 400,
          'GRAD' 0,
          'opsz' 40
        }
        </style>


     
      <!-- Devicon -->
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/devicons/devicon@v2.15.1/devicon.min.css">

    <!-- CSS  -->
    <link rel = "stylesheet" href = "css/style.css">

    <!-- FavIcon -->
    <link rel="icon" href="img/aafo.png">
    
    <title>AAFO - Portfolio - Projects</title>
</head>
<body>


    <!-- Header -->
    <div class="container" id="header">
      <div class="header">
        <nav class="navigation-bar">
  
          <a href="index.html" style="text-decoration: none;">
            <h1><b><span>A</span>A<span>F</span>O</b></h1>
          </a>
              
          <ul>
            <li><a href="index.html">Home Page</a></li>
            <li><a href="#contact">Contact Me</a></li>
          </ul>
        </nav>
    
        <div class="header-text">
          <h1>Project Portfolio</h1>
        </div>
      </div>
    </div>
    <!-- Header -->


    <div class="subbody">
    <!-- Projects -->
    <div class="container" id="projects-portfolio">   
       

      <h1 class="subtitle">Project List</h1>
      <p class="note">*Interact to reveal description</p>

      <div class="portfolio-container" id="portfolio-container"></div>

    </div>
    <!-- Project -->

    <!-- Contact -->
  <div class="container" id="contact">

    <h1 class="subtitle">Contact Me</h1>

    <div class="row-centered">
      <a href="mailto: aafo1416@gmail.com" class="material-symbols-outlined socials-icon">mail</a>
      <a href="https://www.linkedin.com/in/adrianfo/" class="devicon-linkedin-plain socials-icon" target="_blank"></a>
      <a href="https://github.com/AdrianFO-16/" class="devicon-github-plain socials-icon" target="_blank"></a>
    </div>

    <a class="button" href="files/AdrianFerrerCV.pdf" download>Download my CV</a>

    <a class="button" href="#header">Go to Top</a>
  </div>
  <!-- Contact -->
    <div class="foot-copy"><p>Made By: Adri√°n Ferrer</p></div>
    <div class="under-construction"><p>Site under construction :)</p></div>

  </div>


  <script>

  fetch('./data/project-data.json')
          .then((response) => response.json())
          .then((json) => displayProjectData(json));

  function createProjectElement(data, i){
      var project = document.createElement('div');
      project.className = "project"

      var keywords = data.keywords.
                          slice(0, 5).
                              reduce((acc, kw) => acc + `\t\t\t\t\t\t\t\t<div class="keyword"><span>${kw}</span></div>\n`, '<div class="project-keywords row-around">\n') + "\t\t\t\t\t\t\t</div>";
      

      project.innerHTML = `
      <img src=${data.thumbnailPath}>
            <div class="layer">
              <h1 class="subtitle">${data.title}</h1>
              ${keywords}
              ${data.description}
              <a class="read-more-btn" href="project-description.html?project=${i}">Read More: <br> <span class="material-symbols-outlined">read_more</span></a>
          </div>\n
      `;

      return project
  }


  function displayProjectData(json){

      var projectContainer = document.getElementById("portfolio-container");

      for(let i in json){
          projectContainer
              .appendChild(createProjectElement(json[i], i))
      }
  }
  </script>
  </body>    
</html>